title: Установка соединения - Engine

## Установка соединения - Engine

???+ info "Welcome!"

    Добро пожаловать как ORM, так и Core-читатели!
    Каждое приложение SQLAlchemy, которое подключается к базе данных, должно использовать Engine. Этот короткий раздел для
    всех.

Начало любого приложения SQLAlchemy - это объект, называемый Engine. Этот объект выступает в качестве центрального
источника подключений к конкретной базе данных, предоставляя как фабрику, так и удерживающее место, называемое пулом
соединений, для этих подключений к базе данных. Обычно движок является глобальным объектом, созданным только один раз
для конкретного сервера базы данных, и настраивается с использованием строки URL, которая описывает, как он должен
подключаться к хосту или бэкэнду базы данных.

Для этого учебника мы будем использовать базу данных SQLite, работающую только в памяти. Это легкий способ проверить
что-то без необходимости настройки действительной предварительно существующей базы данных. Engine создается с помощью
функции create_engine():

```
>>> from sqlalchemy import create_engine
>>> engine = create_engine("sqlite+pysqlite:///:memory:", echo=True)
```

Основным аргументом create_engine является строка URL, переданная как строка "sqlite+pysqlite:///:memory:". Эта строка
указывает на три важных факта для Engine:

С какой базой данных мы взаимодействуем? Это часть sqlite выше, которая связывает SQLAlchemy с объектом, известным как
диалект.

Какой DBAPI мы используем? Python DBAPI - это драйвер стороннего производителя, который SQLAlchemy использует для
взаимодействия с определенной базой данных. В данном случае мы используем имя pysqlite, которое в современном
использовании Python является стандартным интерфейсом библиотеки sqlite3 для SQLite. Если он опущен, SQLAlchemy будет
использовать DBAPI по умолчанию для выбранной базы данных.

Как найти базу данных? В этом случае наш URL включает фразу /:memory:, которая указывает модулю sqlite3, что мы будем
использовать базу данных, работающую только в памяти. Этот тип базы данных идеально подходит для экспериментов,
поскольку он не требует сервера и не требует создания новых файлов

!!! tip "'Ленивое подключение'"

    Объект Engine, возвращаемый функцией create_engine(), при первом создании еще не пытается подключиться к базе данных;
    это происходит только тогда, когда он впервые запрашивает выполнение задачи в отношении базы данных. Этот шаблон
    проектирования программного обеспечения известен как ленивая инициализация.

Мы также указали параметр create_engine.echo, который будет указывать Engine журналировать всю SQL, которую он
отправляет в Python-логгер, который будет записывать в стандартный выход. Этот флаг является сокращенной формой более
формальной настройки Python-логгирования и полезен для экспериментов в скриптах. Многие примеры SQL будут включать этот
вывод журнала SQL под ссылкой [SQL], которая, когда на нее нажать, раскроет полный SQL-запрос.